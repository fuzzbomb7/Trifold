"use strict";

$(function () {
  // Navbar
  //
  var navbarScrollThreshold = 20;
  var navbarBreakpoint = 992; // Custom classes that will be applied depending on page scrollTop value

  var navbarCustomClasses = {
    // when user is on the top of the page
    default: {},
    // when page scrollTop value > navbarScrollThreshold
    alt: {}
  }; // Set custom classes depending on landing variant

  if ($('html').hasClass('landing-1') || $('html').hasClass('landing-3')) {
    navbarCustomClasses = {
      default: {
        variant: 'navbar-light',
        classes: 'pt-lg-4'
      },
      alt: {
        variant: 'bg-white',
        classes: 'py-1'
      }
    };
  } else if ($('html').hasClass('landing-2') || $('html').hasClass('landing-4')) {
    navbarCustomClasses = {
      default: {
        variant: 'navbar-dark',
        classes: 'pt-lg-4'
      },
      alt: {
        variant: 'bg-dark',
        classes: 'py-1'
      }
    };
  } // Navbar scroll behaviour
  //


  var $navbar = $('.landing-navbar');
  var $navbarCollapse = $('#landing-navbar-collapse');
  $(document).on('scroll', function (e) {
    var scrollTop = $(document).scrollTop();

    if (scrollTop > navbarScrollThreshold && !$navbar.hasClass('landing-navbar-alt')) {
      $navbar.addClass('landing-navbar-alt').removeClass(navbarCustomClasses.default.variant + ' ' + navbarCustomClasses.default.classes).addClass(navbarCustomClasses.alt.variant + ' ' + navbarCustomClasses.alt.classes).find('> div').removeClass('container-fluid').addClass('container');
    } else if (scrollTop <= navbarScrollThreshold && $navbar.hasClass('landing-navbar-alt')) {
      $navbar.removeClass('landing-navbar-alt').addClass(navbarCustomClasses.default.classes).removeClass(navbarCustomClasses.alt.classes).find('> div').addClass('container-fluid').removeClass('container');

      if ($(window).outerWidth() >= navbarBreakpoint || !$navbarCollapse.hasClass('show')) {
        $navbar.addClass(navbarCustomClasses.default.variant).removeClass(navbarCustomClasses.alt.variant);
      }
    }
  });
  $navbarCollapse.on('show.bs.collapse hidden.bs.collapse', function (e) {
    if ($navbar.hasClass('landing-navbar-alt')) return;
    $navbar[e.type === 'show' ? 'removeClass' : 'addClass'](navbarCustomClasses.default.variant);
    $navbar[e.type === 'show' ? 'addClass' : 'removeClass'](navbarCustomClasses.alt.variant);
  });
  $(window).on('resize', function () {
    if ($navbar.hasClass('landing-navbar-alt')) return;
    var sm = $(this).outerWidth() < navbarBreakpoint;
    var alt = $navbar.hasClass(navbarCustomClasses.alt.variant);

    if (sm && !alt && $navbarCollapse.hasClass('show')) {
      $navbar.removeClass(navbarCustomClasses.default.variant).addClass(navbarCustomClasses.alt.variant);
    } else if (!sm && alt) {
      $navbar.removeClass(navbarCustomClasses.alt.variant).addClass(navbarCustomClasses.default.variant);
    }
  }); // Anchor links
  //

  $('body').on('click', '.anchor-link', function (e) {
    e.preventDefault();
    $("html, body").stop().animate({
      scrollTop: Math.round($(this.getAttribute('href')).offset().top) + 'px'
    }, 500);
  }); // Main slider
  //

  $('#landing-slider').each(function () {
    new Swiper(this, {
      autoHeight: true,
      speed: 1000,
      followFinger: false,
      threshold: 50,
      preventClicks: true,
      navigation: {
        nextEl: '#landing-slider-next',
        prevEl: '#landing-slider-prev'
      }
    });
  });
  $('#landing-slider-parallax').each(function () {
    new Swiper(this, {
      parallax: true,
      autoHeight: true,
      speed: 1000,
      followFinger: false,
      threshold: 50,
      preventClicks: true,
      navigation: {
        nextEl: '#landing-slider-next',
        prevEl: '#landing-slider-prev'
      }
    });
  }); // Introducing video
  //

  $('#landing-video').each(function () {
    plyr.setup(this, {
      tooltips: {
        controls: false,
        seek: true
      }
    })[0];
  }); // App preview
  //

  $('#landing-preview-slider').each(function () {
    new Swiper(this, {
      slidesPerView: 3,
      spaceBetween: 0,
      threshold: 50,
      speed: 400,
      centeredSlides: true,
      slideToClickedSlide: true,
      breakpoints: {
        992: {
          slidesPerView: 1,
          spaceBetween: 20
        }
      },
      pagination: {
        el: '.swiper-pagination',
        clickable: true
      }
    });
  }); // Reviews
  //

  $('#landing-testimonials-slider').each(function () {
    new Swiper(this, {
      navigation: {
        nextEl: '#landing-testimonials-slider-next',
        prevEl: '#landing-testimonials-slider-prev'
      }
    });
  }); // Logos
  //

  $('#landing-logos-slider').each(function () {
    new Swiper(this, {
      slidesPerView: 8,
      spaceBetween: 30,
      breakpoints: {
        1200: {
          slidesPerView: 7
        },
        992: {
          slidesPerView: 6,
          spaceBetween: 20
        },
        768: {
          slidesPerView: 4,
          spaceBetween: 10
        },
        576: {
          spaceBetween: 0
        },
        480: {
          slidesPerView: 3
        },
        380: {
          slidesPerView: 2
        }
      },
      navigation: {
        nextEl: '#landing-logos-slider-next',
        prevEl: '#landing-logos-slider-prev'
      }
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL2xhbmRpbmcuanMiXSwibmFtZXMiOlsiJCIsIm5hdmJhclNjcm9sbFRocmVzaG9sZCIsIm5hdmJhckJyZWFrcG9pbnQiLCJuYXZiYXJDdXN0b21DbGFzc2VzIiwiZGVmYXVsdCIsImFsdCIsImhhc0NsYXNzIiwidmFyaWFudCIsImNsYXNzZXMiLCIkbmF2YmFyIiwiJG5hdmJhckNvbGxhcHNlIiwiZG9jdW1lbnQiLCJvbiIsImUiLCJzY3JvbGxUb3AiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiZmluZCIsIndpbmRvdyIsIm91dGVyV2lkdGgiLCJ0eXBlIiwic20iLCJwcmV2ZW50RGVmYXVsdCIsInN0b3AiLCJhbmltYXRlIiwiTWF0aCIsInJvdW5kIiwiZ2V0QXR0cmlidXRlIiwib2Zmc2V0IiwidG9wIiwiZWFjaCIsIlN3aXBlciIsImF1dG9IZWlnaHQiLCJzcGVlZCIsImZvbGxvd0ZpbmdlciIsInRocmVzaG9sZCIsInByZXZlbnRDbGlja3MiLCJuYXZpZ2F0aW9uIiwibmV4dEVsIiwicHJldkVsIiwicGFyYWxsYXgiLCJwbHlyIiwic2V0dXAiLCJ0b29sdGlwcyIsImNvbnRyb2xzIiwic2VlayIsInNsaWRlc1BlclZpZXciLCJzcGFjZUJldHdlZW4iLCJjZW50ZXJlZFNsaWRlcyIsInNsaWRlVG9DbGlja2VkU2xpZGUiLCJicmVha3BvaW50cyIsInBhZ2luYXRpb24iLCJlbCIsImNsaWNrYWJsZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsQ0FBQyxDQUFDLFlBQVc7QUFFWDtBQUNBO0FBRUEsTUFBSUMscUJBQXFCLEdBQUcsRUFBNUI7QUFDQSxNQUFJQyxnQkFBZ0IsR0FBRyxHQUF2QixDQU5XLENBUVg7O0FBQ0EsTUFBSUMsbUJBQW1CLEdBQUc7QUFDeEI7QUFDQUMsSUFBQUEsT0FBTyxFQUFFLEVBRmU7QUFJeEI7QUFDQUMsSUFBQUEsR0FBRyxFQUFFO0FBTG1CLEdBQTFCLENBVFcsQ0FpQlg7O0FBQ0EsTUFBSUwsQ0FBQyxDQUFDLE1BQUQs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XHJcblxyXG4gIC8vIE5hdmJhclxyXG4gIC8vXHJcblxyXG4gIHZhciBuYXZiYXJTY3JvbGxUaHJlc2hvbGQgPSAyMDtcclxuICB2YXIgbmF2YmFyQnJlYWtwb2ludCA9IDk5MjtcclxuXHJcbiAgLy8gQ3VzdG9tIGNsYXNzZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgZGVwZW5kaW5nIG9uIHBhZ2Ugc2Nyb2xsVG9wIHZhbHVlXHJcbiAgdmFyIG5hdmJhckN1c3RvbUNsYXNzZXMgPSB7XHJcbiAgICAvLyB3aGVuIHVzZXIgaXMgb24gdGhlIHRvcCBvZiB0aGUgcGFnZVxyXG4gICAgZGVmYXVsdDoge30sXHJcblxyXG4gICAgLy8gd2hlbiBwYWdlIHNjcm9sbFRvcCB2YWx1ZSA+IG5hdmJhclNjcm9sbFRocmVzaG9sZFxyXG4gICAgYWx0OiB7fVxyXG4gIH07XHJcblxyXG4gIC8vIFNldCBjdXN0b20gY2xhc3NlcyBkZXBlbmRpbmcgb24gbGFuZGluZyB2YXJpYW50XHJcbiAgaWYgKCQoJ2h0bWwnKS5oYXNDbGFzcygnbGFuZGluZy0xJykgfHwgJCgnaHRtbCcpLmhhc0NsYXNzKCdsYW5kaW5nLTMnKSkge1xyXG5cclxuICAgIG5hdmJhckN1c3RvbUNsYXNzZXMgPSB7XHJcbiAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICB2YXJpYW50OiAnbmF2YmFyLWxpZ2h0JyxcclxuICAgICAgICBjbGFzc2VzOiAncHQtbGctNCdcclxuICAgICAgfSxcclxuICAgICAgYWx0OiB7XHJcbiAgICAgICAgdmFyaWFudDogJ2JnLXdoaXRlJyxcclxuICAgICAgICBjbGFzc2VzOiAncHktMSdcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgfSBlbHNlIGlmICgkKCdodG1sJykuaGFzQ2xhc3MoJ2xhbmRpbmctMicpIHx8ICQoJ2h0bWwnKS5oYXNDbGFzcygnbGFuZGluZy00JykpIHtcclxuXHJcbiAgICBuYXZiYXJDdXN0b21DbGFzc2VzID0ge1xyXG4gICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgdmFyaWFudDogJ25hdmJhci1kYXJrJyxcclxuICAgICAgICBjbGFzc2VzOiAncHQtbGctNCdcclxuICAgICAgfSxcclxuICAgICAgYWx0OiB7XHJcbiAgICAgICAgdmFyaWFudDogJ2JnLWRhcmsnLFxyXG4gICAgICAgIGNsYXNzZXM6ICdweS0xJ1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICB9XHJcblxyXG4gIC8vIE5hdmJhciBzY3JvbGwgYmVoYXZpb3VyXHJcbiAgLy9cclxuXHJcbiAgdmFyICRuYXZiYXIgPSAkKCcubGFuZGluZy1uYXZiYXInKTtcclxuICB2YXIgJG5hdmJhckNvbGxhcHNlID0gJCgnI2xhbmRpbmctbmF2YmFyLWNvbGxhcHNlJyk7XHJcblxyXG4gICQoZG9jdW1lbnQpLm9uKCdzY3JvbGwnLCBmdW5jdGlvbihlKSB7XHJcbiAgICB2YXIgc2Nyb2xsVG9wID0gJChkb2N1bWVudCkuc2Nyb2xsVG9wKCk7XHJcblxyXG4gICAgaWYgKHNjcm9sbFRvcCA+IG5hdmJhclNjcm9sbFRocmVzaG9sZCAmJiAhJG5hdmJhci5oYXNDbGFzcygnbGFuZGluZy1uYXZiYXItYWx0JykpIHtcclxuICAgICAgJG5hdmJhclxyXG4gICAgICAgIC5hZGRDbGFzcygnbGFuZGluZy1uYXZiYXItYWx0JylcclxuICAgICAgICAucmVtb3ZlQ2xhc3MobmF2YmFyQ3VzdG9tQ2xhc3Nlcy5kZWZhdWx0LnZhcmlhbnQgKyAnICcgKyBuYXZiYXJDdXN0b21DbGFzc2VzLmRlZmF1bHQuY2xhc3NlcylcclxuICAgICAgICAuYWRkQ2xhc3MobmF2YmFyQ3VzdG9tQ2xhc3Nlcy5hbHQudmFyaWFudCArICcgJyArIG5hdmJhckN1c3RvbUNsYXNzZXMuYWx0LmNsYXNzZXMpXHJcbiAgICAgICAgLmZpbmQoJz4gZGl2JylcclxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbnRhaW5lci1mbHVpZCcpXHJcbiAgICAgICAgLmFkZENsYXNzKCdjb250YWluZXInKTtcclxuICAgIH0gZWxzZSBpZiAoc2Nyb2xsVG9wIDw9IG5hdmJhclNjcm9sbFRocmVzaG9sZCAmJiAkbmF2YmFyLmhhc0NsYXNzKCdsYW5kaW5nLW5hdmJhci1hbHQnKSkge1xyXG4gICAgICAkbmF2YmFyLnJlbW92ZUNsYXNzKCdsYW5kaW5nLW5hdmJhci1hbHQnKVxyXG4gICAgICAgIC5hZGRDbGFzcyhuYXZiYXJDdXN0b21DbGFzc2VzLmRlZmF1bHQuY2xhc3NlcylcclxuICAgICAgICAucmVtb3ZlQ2xhc3MobmF2YmFyQ3VzdG9tQ2xhc3Nlcy5hbHQuY2xhc3NlcylcclxuICAgICAgICAuZmluZCgnPiBkaXYnKVxyXG4gICAgICAgIC5hZGRDbGFzcygnY29udGFpbmVyLWZsdWlkJylcclxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbnRhaW5lcicpO1xyXG5cclxuICAgICAgICBpZiAoJCh3aW5kb3cpLm91dGVyV2lkdGgoKSA+PSBuYXZiYXJCcmVha3BvaW50IHx8ICEkbmF2YmFyQ29sbGFwc2UuaGFzQ2xhc3MoJ3Nob3cnKSkge1xyXG4gICAgICAgICAgJG5hdmJhclxyXG4gICAgICAgICAgICAuYWRkQ2xhc3MobmF2YmFyQ3VzdG9tQ2xhc3Nlcy5kZWZhdWx0LnZhcmlhbnQpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhuYXZiYXJDdXN0b21DbGFzc2VzLmFsdC52YXJpYW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gICRuYXZiYXJDb2xsYXBzZS5vbignc2hvdy5icy5jb2xsYXBzZSBoaWRkZW4uYnMuY29sbGFwc2UnLCBmdW5jdGlvbihlKSB7XHJcbiAgICBpZiAoJG5hdmJhci5oYXNDbGFzcygnbGFuZGluZy1uYXZiYXItYWx0JykpIHJldHVybjtcclxuXHJcbiAgICAkbmF2YmFyW2UudHlwZSA9PT0gJ3Nob3cnID8gJ3JlbW92ZUNsYXNzJyA6ICdhZGRDbGFzcyddKFxyXG4gICAgICBuYXZiYXJDdXN0b21DbGFzc2VzLmRlZmF1bHQudmFyaWFudFxyXG4gICAgKTtcclxuXHJcbiAgICAkbmF2YmFyW2UudHlwZSA9PT0gJ3Nob3cnID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKFxyXG4gICAgICBuYXZiYXJDdXN0b21DbGFzc2VzLmFsdC52YXJpYW50XHJcbiAgICApO1xyXG4gIH0pO1xyXG5cclxuICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKCRuYXZiYXIuaGFzQ2xhc3MoJ2xhbmRpbmctbmF2YmFyLWFsdCcpKSByZXR1cm47XHJcblxyXG4gICAgdmFyIHNtID0gJCh0aGlzKS5vdXRlcldpZHRoKCkgPCBuYXZiYXJCcmVha3BvaW50O1xyXG4gICAgdmFyIGFsdCA9ICRuYXZiYXIuaGFzQ2xhc3MobmF2YmFyQ3VzdG9tQ2xhc3Nlcy5hbHQudmFyaWFudCk7XHJcblxyXG4gICAgaWYgKHNtICYmICFhbHQgJiYgJG5hdmJhckNvbGxhcHNlLmhhc0NsYXNzKCdzaG93JykpIHtcclxuICAgICAgJG5hdmJhclxyXG4gICAgICAgIC5yZW1vdmVDbGFzcyhuYXZiYXJDdXN0b21DbGFzc2VzLmRlZmF1bHQudmFyaWFudClcclxuICAgICAgICAuYWRkQ2xhc3MobmF2YmFyQ3VzdG9tQ2xhc3Nlcy5hbHQudmFyaWFudCk7XHJcbiAgICB9IGVsc2UgaWYgKCFzbSAmJiBhbHQpIHtcclxuICAgICAgJG5hdmJhclxyXG4gICAgICAgIC5yZW1vdmVDbGFzcyhuYXZiYXJDdXN0b21DbGFzc2VzLmFsdC52YXJpYW50KVxyXG4gICAgICAgIC5hZGRDbGFzcyhuYXZiYXJDdXN0b21DbGFzc2VzLmRlZmF1bHQudmFyaWFudCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vIEFuY2hvciBsaW5rc1xyXG4gIC8vXHJcblxyXG4gICQoJ2JvZHknKS5vbignY2xpY2snLCAnLmFuY2hvci1saW5rJywgZnVuY3Rpb24oZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgJChcImh0bWwsIGJvZHlcIikuc3RvcCgpLmFuaW1hdGUoe1xyXG4gICAgICBzY3JvbGxUb3A6IE1hdGgucm91bmQoJCh0aGlzLmdldEF0dHJpYnV0ZSgnaHJlZicpKS5vZmZzZXQoKS50b3ApICsgJ3B4J1xyXG4gICAgfSwgNTAwKTtcclxuICB9KTtcclxuXHJcbiAgLy8gTWFpbiBzbGlkZXJcclxuICAvL1xyXG5cclxuICAkKCcjbGFuZGluZy1zbGlkZXInKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgbmV3IFN3aXBlcih0aGlzLCB7XHJcbiAgICAgIGF1dG9IZWlnaHQ6IHRydWUsXHJcbiAgICAgIHNwZWVkOiAxMDAwLFxyXG4gICAgICBmb2xsb3dGaW5nZXI6IGZhbHNlLFxyXG4gICAgICB0aHJlc2hvbGQ6IDUwLFxyXG4gICAgICBwcmV2ZW50Q2xpY2tzOiB0cnVlLFxyXG4gICAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgICAgbmV4dEVsOiAnI2xhbmRpbmctc2xpZGVyLW5leHQnLFxyXG4gICAgICAgIHByZXZFbDogJyNsYW5kaW5nLXNsaWRlci1wcmV2J1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgJCgnI2xhbmRpbmctc2xpZGVyLXBhcmFsbGF4JykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgIG5ldyBTd2lwZXIodGhpcywge1xyXG4gICAgICBwYXJhbGxheDogdHJ1ZSxcclxuICAgICAgYXV0b0hlaWdodDogdHJ1ZSxcclxuICAgICAgc3BlZWQ6IDEwMDAsXHJcbiAgICAgIGZvbGxvd0ZpbmdlcjogZmFsc2UsXHJcbiAgICAgIHRocmVzaG9sZDogNTAsXHJcbiAgICAgIHByZXZlbnRDbGlja3M6IHRydWUsXHJcbiAgICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgICBuZXh0RWw6ICcjbGFuZGluZy1zbGlkZXItbmV4dCcsXHJcbiAgICAgICAgcHJldkVsOiAnI2xhbmRpbmctc2xpZGVyLXByZXYnXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAvLyBJbnRyb2R1Y2luZyB2aWRlb1xyXG4gIC8vXHJcblxyXG4gICQoJyNsYW5kaW5nLXZpZGVvJykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgIHBseXIuc2V0dXAodGhpcywge1xyXG4gICAgICB0b29sdGlwczoge1xyXG4gICAgICAgIGNvbnRyb2xzOiBmYWxzZSxcclxuICAgICAgICBzZWVrOiB0cnVlXHJcbiAgICAgIH1cclxuICAgIH0pWzBdO1xyXG4gIH0pO1xyXG5cclxuICAvLyBBcHAgcHJldmlld1xyXG4gIC8vXHJcblxyXG4gICQoJyNsYW5kaW5nLXByZXZpZXctc2xpZGVyJykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgIG5ldyBTd2lwZXIodGhpcywge1xyXG4gICAgICBzbGlkZXNQZXJWaWV3OiAzLFxyXG4gICAgICBzcGFjZUJldHdlZW46IDAsXHJcbiAgICAgIHRocmVzaG9sZDogNTAsXHJcbiAgICAgIHNwZWVkOiA0MDAsXHJcbiAgICAgIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxyXG4gICAgICBzbGlkZVRvQ2xpY2tlZFNsaWRlOiB0cnVlLFxyXG4gICAgICBicmVha3BvaW50czoge1xyXG4gICAgICAgIDk5Mjoge1xyXG4gICAgICAgICAgc2xpZGVzUGVyVmlldzogMSxcclxuICAgICAgICAgIHNwYWNlQmV0d2VlbjogMjBcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgICBlbDogJy5zd2lwZXItcGFnaW5hdGlvbicsXHJcbiAgICAgICAgY2xpY2thYmxlOiB0cnVlXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAvLyBSZXZpZXdzXHJcbiAgLy9cclxuXHJcbiAgJCgnI2xhbmRpbmctdGVzdGltb25pYWxzLXNsaWRlcicpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICBuZXcgU3dpcGVyKHRoaXMsIHtcclxuICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgIG5leHRFbDogJyNsYW5kaW5nLXRlc3RpbW9uaWFscy1zbGlkZXItbmV4dCcsXHJcbiAgICAgICAgcHJldkVsOiAnI2xhbmRpbmctdGVzdGltb25pYWxzLXNsaWRlci1wcmV2J1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgLy8gTG9nb3NcclxuICAvL1xyXG5cclxuICAkKCcjbGFuZGluZy1sb2dvcy1zbGlkZXInKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgbmV3IFN3aXBlcih0aGlzLCB7XHJcbiAgICAgIHNsaWRlc1BlclZpZXc6IDgsXHJcbiAgICAgIHNwYWNlQmV0d2VlbjogMzAsXHJcbiAgICAgIGJyZWFrcG9pbnRzOiB7XHJcbiAgICAgICAgMTIwMDoge1xyXG4gICAgICAgICAgc2xpZGVzUGVyVmlldzogNyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIDk5Mjoge1xyXG4gICAgICAgICAgc2xpZGVzUGVyVmlldzogNixcclxuICAgICAgICAgIHNwYWNlQmV0d2VlbjogMjAsXHJcbiAgICAgICAgfSxcclxuICAgICAgICA3Njg6IHtcclxuICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDQsXHJcbiAgICAgICAgICBzcGFjZUJldHdlZW46IDEwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgNTc2OiB7XHJcbiAgICAgICAgICBzcGFjZUJldHdlZW46IDAsXHJcbiAgICAgICAgfSxcclxuICAgICAgICA0ODA6IHtcclxuICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDNcclxuICAgICAgICB9LFxyXG4gICAgICAgIDM4MDoge1xyXG4gICAgICAgICAgc2xpZGVzUGVyVmlldzogMlxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgIG5leHRFbDogJyNsYW5kaW5nLWxvZ29zLXNsaWRlci1uZXh0JyxcclxuICAgICAgICBwcmV2RWw6ICcjbGFuZGluZy1sb2dvcy1zbGlkZXItcHJldidcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG59KTtcclxuIl0sImZpbGUiOiJqcy9sYW5kaW5nLmVzNS5qcyJ9
